<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/layout}">

<head>
<meta charset="utf-8">
<title>Edit person Template</title>
</head>
<body>
    <div class="form-horizontal" layout:fragment="content">
    <div class="container">
        <div class="col-md-6 col-md-offset-3">
            <h2>Person Info Edit</h2>
            <form id="editpage" action="/edit" method="post" th:object="${person}"  enctype="multipart/form-data">
                <input type="hidden" th:value="${person.PersonID}" name="pid" />

                <div class="form-group">
                    <label for="FullName" class="col-sm-2 control-label">FullName</label>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" name="fu"
                            placeholder="FullName" th:value="${person.FullName}">
                    </div>
                </div>

                <div class="form-group">
                    <label for="FirstName" class="col-sm-2 control-label">FirstName</label>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" name="fs"
                            placeholder="FirstName" th:value="${person.FirstName}">
                    </div>
                </div>

                <div class="form-group">
                    <label for="LastName" class="col-sm-2 control-label">LastName</label>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" name="ls"
                            placeholder="LastName" th:value="${person.LastName}">
                    </div>
                </div>

                <div class="form-group">
                    <label for="ClassName" class="col-sm-2 control-label">ClassName</label>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" name="cs"
                            placeholder="ClassName" th:value="${person.ClassName}">
                    </div>
                </div>

                <div class="form-group">
                    <label for="Grade" class="col-sm-2 control-label">Grade</label>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" name="g"
                            placeholder="Grade" th:value="${person.Grade}">
                    </div>
                </div>

                <div th:each="person,stat : ${person.alist}">
                    <div class="form-group" >
                    	<div>
                    	<label for="address1" class="col-sm-2 control-label">Address</label>
                    	<div class="col-sm-7">
                        <input type="hidden" th:value="${person.AddressID}" name="aid" />                        
                        <input type="text" class="form-control" name="a" th:value="${person.address}"/>
                        </div>
                        <input type='button' value='Remove Button' id='${stat.index}' onCLick="this.parentElement.remove();"/>
                        </div>    
                    </div>
                </div>

            	<div id='TextBoxesGroup' ></div>
                <div>
                <input type='button' value='Add Address' id='addButton' onCLick="AddRow()">
                </div>
                <div id="attachFileDiv"  class="form-group">
					<input type="button" value="追加" onclick="attachFile.add()" style="margin-left: 5px">
					</div>
					<div>
					<!-- <img id="ShowImage" src="/static/images/8a165428-6b7b-41db-860b-c6127cbe14c9images1.jpg" /> -->
					</div>
             
              <div th:each="person,stat : ${person.fileString}">
                    <div class="form-group" >
                    <input type="hidden" th:value="${person.FileID}"  name="image"/> 
                    <input type="hidden" th:value="${person.uploadRootPath}"  name="uploadRootPath"/> 
                    <input type="hidden" th:value="${person.serverFile}"  name="serverFile"/>  
                    	<img id="ShowImage" th:src="'/photo/' + ${person.name}" height="100" width="100" name="name" th:value="${person.name}"/>
                    		<input type="button" onCLick="this.parentElement.remove();"  value='Remove image'/>
                    </div>
                </div>
             
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-default" name="update">Update</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/webjars/jquery/3.2.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/webjars/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</body>
</html>